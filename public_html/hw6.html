<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>CSPP 53001: Assignment 6</title>
<!-- 2013-05-20 Mon 09:35 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="generator" content="Org-mode"/>
<meta name="author" content="Neil Best"/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012  Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">CSPP 53001: Assignment 6</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Step 6 of Your TBP App</a></li>
</ul>
</div>
</div>
<p>
<b>Project Step 6 due by 11:59am on Thursday, May 30, 2013</b>
</p>

<p>
This assignment is for extra credit.  It can only help your final
grade.  However, no late submissions will be accepted.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Step 6 of Your TBP App</h2>
<div class="outline-text-2" id="text-1">
<p>
The sixth part of your TBP project is to create several triggers and
stored routines.
</p>

<p>
Create at least three triggers and show that they work. One of your
triggers should enforce an attribute constraint. You should also have
a trigger that keeps track of some quantity such as the number of
tuples in a relation, or an aggregate function of some
attribute. Please, create a script <code>triggers.sql</code> that includes all of
your trigger definitions. To show that your triggers work create a
script <code>scenario1.sql</code> that shows, for each trigger, the effect of two
database modifications. One modification should activate the trigger
while the other should not. In the script, show queries that
demonstrate that the trigger has an effect in the first case and not
in the second one.
</p>

<p>
Create at least three stored routines, with at least one including a
database modification, and show that they work. Please, create, a
script <code>routines.sql</code> that includes all of your stored routine
definitions. To show that your routines work create a script
<code>scenario2.sql</code> that shows the effect of each routine. For routines
including database modifications show the instance of an affected
relation before and after the routine is called.
</p>

<p>
In addition to the four new scripts, please, also submit
<code>create_db_large.sql</code> and <code>populate_db_large.sql</code> scripts along with
<b>all data files</b> referenced in your <code>populate_db_large.sql</code> script
from hw5. You can modify these scripts in order to ensure that your
triggers and routines work as expected.
</p>

<p>
You will submit your homework using the <code>hwsubmit</code> command. Please,
create a new directory called hw6_&lt;your_username&gt;, e.g. hw6_evtimov,
and move there all of the relevant scripts <b>and all data files</b>. For
this assignment, there should be the four new scripts: <code>triggers.sql,
scenario1.sql, routines.sql, scenario2.sql</code>, the scripts from hw5:
<code>create_db_large.sql</code>, <code>populate_db_large.sql</code>, and all the large data
files, Then, you can submit your work by typing (&lt;path_to&gt; is the
directory path to your hw6 directory):
</p>

<p>
<code>hwsubmit cspp53001 &lt;path_to&gt;/hw6_&lt;your_username&gt;</code>
</p>

<p>
<b>Please make sure that all of the relevant files, including your data,
and no others are in that directory.</b>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Neil Best</p>
<p class="date">Created: 2013-05-20 Mon 09:35</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.0.1)</p>
<p class="xhtml-validation"><a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a></p>
</div>
</body>
</html>
